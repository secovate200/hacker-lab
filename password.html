<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>커뮤니티 게시판 - 비밀번호 확인</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <header>
      <h1><a href="index.html">자유 게시판</a></h1>
      <div class="auth-links">
        <a href="index.html">홈</a>
        <a href="mypage.html">마이페이지</a>
        <a href="#">로그아웃</a>
      </div>
    </header>

    <main>
      <div class="password-container">
        <h2 id="pass-title">비밀번호 확인</h2>
        <p id="pass-msg">게시글 작성 시 설정한 비밀번호를 입력해주세요.</p>

        <form action="#" method="POST" onsubmit="return checkPassword()">
          <input
            type="password"
            class="password-input"
            placeholder="비밀번호 입력"
            required
            autofocus
          />

          <div class="btn-group">
            <button type="submit" class="btn-pass btn-submit">확인</button>
            <a href="javascript:history.back();" class="btn-pass btn-cancel"
              >취소</a
            >
          </div>
        </form>
      </div>
    </main>

    <script>
      // URL의 파라미터를 읽어 문구 변경
      const params = new URLSearchParams(window.location.search);
      const mode = params.get("type");

      const titleEl = document.getElementById("pass-title");
      const msgEl = document.getElementById("pass-msg");

      if (mode === "edit") {
        titleEl.innerText = "게시글 수정";
        msgEl.innerText = "수정 권한 확인을 위해 비밀번호를 입력해주세요.";
      } else if (mode === "delete") {
        titleEl.innerText = "게시글 삭제";
        msgEl.innerText = "삭제를 완료하려면 비밀번호 입력이 필요합니다.";
        document.querySelector(".btn-submit").style.backgroundColor = "#e74c3c"; // 삭제 시 빨간색 강조
      }

      function checkPassword() {
        // 실제 구현 시에는 여기서 서버와 통신하여 비밀번호를 검증합니다.
        alert("비밀번호가 확인되었습니다.");

        if (mode === "edit") {
          location.href = "write.html?mode=edit"; // 수정 페이지로 이동
        } else {
          alert("게시글이 삭제되었습니다.");
          location.href = "index.html"; // 목록으로 이동
        }
        return false;
      }
    </script>
  </body>
</html>
